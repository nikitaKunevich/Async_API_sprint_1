## Запуск проекта

Чтобы запустить проект в docker-compose:

```./run.sh start```

Далее надо загрузить индекс в Elastic:

```./run.sh load_es_index```

Осталось запустить etl-демона:

```./run.sh start_etl```

> Через параметр ```--env-file <file>``` можно указать файл для окружения (по умолчанию `deploys/prod.env`). Например: ```./run.sh start --env-file deploys/local.env```)

Теперь на порту **8888** работает fastapi-сервис для поиска по elasticsearch.

При запуске команды `start`:
* будут подняты postgresql, uvicorn с search API.
* в postgresql будет загружен дамп базы фильмов.

При запуске команды `start_etl`:
* поднимется redis
* запустится etl-демон, который будет периодически смотреть за изменениями в базе и реплицировать их в ES.

Чтобы удалить все контейнеры и volumes:

```./run.sh stop```

## Запуск проекта вне Docker 

Чтобы поднять окружение

```./run.sh start-environment```

Чтобы поднять приложение

```./run.sh start-local```


Теперь на **8000** порту будет fastapi-приложение

## Используемые технологии

- Код приложения пишется на **Python + FastAPI**.
- Приложение запускается под управлением сервера **ASGI**(uvicorn).
- Хранилище – **ElasticSearch**.
- За кеширование данных отвечает – **redis cluster**.
- Все компоненты системы запускаются через **docker**.
